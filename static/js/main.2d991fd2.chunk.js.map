{"version":3,"sources":["components/dummyPages/Header.js","components/Footer/Footer.js","components/dummyPages/HomePage.js","services/getDateOfLastMessage.js","services/getQuantityUsers.js","services/getQuantityMessages.js","redux/selectors.js","components/ChatHeader/ChatHeader.js","services/getFetch.js","redux/actions.js","services/logicForLike.js","components/ChatMessage/ChatMessage.js","components/ChatMessage/MyMessage.js","components/dummyPages/Loader.js","components/ChatWindow/ChatWindow.js","services/createNewMessage.js","components/ChatInput/ChatInput.js","components/ChatPage/ChatPage.js","components/dummyPages/About.js","components/dummyPages/Contact.js","components/App/App.js","redux/reducers/chatReducer.js","redux/rootReducer.js","redux/store.js","index.js","components/dummyPages/DummyPages.module.css","components/ChatHeader/ChatHeader.module.css","components/Footer/Footer.module.css","components/ChatInput/ChatInput.module.css","components/ChatWindow/ChatWindow.module.css","components/ChatMessage/ChatMessage.module.css"],"names":["Header","className","styles","header","namesSections","Footer","footer","list","map","item","key","link","to","HomePage","wrapper","getDateOfLastMessage","arr","undefined","length","created_at","getQuantityUsers","usersNames","push","user","result","str","includes","unique","getQuantityMessages","postsFromStore","state","chat","posts","userName","message","editMessage","allPosts","this","props","dateOfLastMessage","users","messages","getMessages","getUsers","getDate","title","statistic","date","Component","connect","selectors","fetchMessages","axios","get","Type","FETCH_ALL_POSTS","FILTER_ALL_POSTS","ADD_NEW_MESSAGE","DELETE_MESSEGE","EDIT_MESSEGE","CLEAR_MESSEGE","getAllPosts","dispatch","then","res","data","type","payload","getAllPostsSuccess","catch","err","console","log","add","id","name","arrAllPosts","i","like","remove","filter","ChatMessage","onHandleLike","e","newArrForStore","checked","target","value","obj","img","src","avatar","alt","text","likeName","onChange","bind","htmlFor","actions","MyMessage","onEditMessage","messageForEdit","onDeleteMessage","wrapperMyMessage","textMyMessage","dateMyMessage","onClick","delete","edit","override","css","Loader","loading","sizeUnit","size","color","ChatWindow","fetchPosts","createNewMessage","objUser","ChatInput","quantityMessages","handleChange","setState","handleSubmit","preventDefault","addNewMessage","partOfMessage","moment","format","shortid","generate","alert","newMessage","clearMessage","onSubmit","input","placeholder","button","ChatPage","About","Contact","App","path","exact","component","AboutPage","render","initialState","chatReducer","action","combineReducers","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","basename","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.2d991fd2.chunk.js","sourcesContent":["import React from 'react';\r\nimport styles from './DummyPages.module.css';\r\n\r\nconst Header = () => (\r\n  <header className={styles.header}>\r\n    <h3>Some Header</h3>\r\n  </header>\r\n);\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport styles from './Footer.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst namesSections = ['home', 'about', 'contact', 'chat'];\r\n\r\nconst Footer = () => (\r\n  <footer className={styles.footer}>\r\n    <ul className={styles.list}>\r\n      {namesSections.map(item => (\r\n        <li key={item}>\r\n          <NavLink className={styles.link} to={item}>\r\n            {item}\r\n          </NavLink>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  </footer>\r\n);\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport styles from './DummyPages.module.css';\r\nimport Header from './Header';\r\nimport Footer from '../Footer/Footer';\r\n\r\nconst HomePage = () => (\r\n  <>\r\n    <Header />\r\n    <div className={styles.wrapper}>\r\n      <h1>Home Page</h1>\r\n    </div>\r\n    <Footer />\r\n  </>\r\n);\r\n\r\nexport default HomePage;\r\n","const getDateOfLastMessage = function(arr) {\r\n  if (arr !== undefined) {\r\n    const result = arr[arr.length - 1];\r\n    return result.created_at;\r\n  }\r\n  return;\r\n};\r\n\r\nexport default getDateOfLastMessage;\r\n","/* eslint-disable */\r\nconst unique = function(arr) {\r\n  let result = [];\r\n  for (let str of arr) {\r\n    if (!result.includes(str)) {\r\n      result.push(str);\r\n    }\r\n  }\r\n  return result;\r\n};\r\n\r\nconst getQuantityUsers = function(arr) {\r\n  let usersNames = [];\r\n  if (arr !== undefined) {\r\n    arr.map(item => usersNames.push(item.user));\r\n    let result = unique(usersNames);\r\n    return result.length;\r\n  }\r\n  return;\r\n};\r\n\r\nexport default getQuantityUsers;\r\n","const getQuantityMessages = function(arr) {\r\n  if (arr !== undefined) {\r\n    return arr.length;\r\n  }\r\n  return;\r\n};\r\n\r\nexport default getQuantityMessages;\r\n","export const postsFromStore = state => state.chat.posts;\r\nexport const user = state => state.chat.user;\r\nexport const userName = state => state.chat.user.user;\r\nexport const message = state => state.chat.editMessage;\r\n","import React, { Component } from 'react';\r\nimport styles from './ChatHeader.module.css';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport getDate from '../../services/getDateOfLastMessage';\r\nimport getUsers from '../../services/getQuantityUsers';\r\nimport getMessages from '../../services/getQuantityMessages';\r\nimport * as selectors from '../../redux/selectors';\r\n\r\nclass Header extends Component {\r\n  render() {\r\n    const { allPosts } = this.props;\r\n    let dateOfLastMessage = '2000.1.01 12:01';\r\n    let users = 0;\r\n    let messages = 0;\r\n\r\n    if (allPosts !== null) {\r\n      messages = getMessages(allPosts);\r\n      users = getUsers(allPosts);\r\n      dateOfLastMessage = getDate(allPosts);\r\n    }\r\n    return (\r\n      <header className={styles.header}>\r\n        <h1 className={styles.title}>My Chat</h1>\r\n        <div className={styles.statistic}>\r\n          <p>{users} users</p>\r\n          <p>{messages} messages</p>\r\n        </div>\r\n        <div className={styles.date}>\r\n          <p>Last message: {dateOfLastMessage}</p>\r\n        </div>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nHeader.propTypes = {\r\n  allPosts: PropTypes.array,\r\n  user: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  allPosts: selectors.postsFromStore(state),\r\n  user: selectors.userName(state),\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  null,\r\n)(Header);\r\n","import axios from 'axios';\r\n\r\nexport const fetchMessages = () =>\r\n  axios.get('https://api.dev.buki.com.ua/frontend_test');\r\n","import { fetchMessages } from '../services/getFetch';\r\n\r\nexport const Type = {\r\n  FETCH_ALL_POSTS: 'FETCH_ALL_POSTS',\r\n  FILTER_ALL_POSTS: 'FILTER_ALL_POSTS',\r\n  ADD_NEW_MESSAGE: 'ADD_NEW_MESSAGE',\r\n  DELETE_MESSEGE: 'DELETE_MESSEGE',\r\n  EDIT_MESSEGE: 'EDIT_MESSEGE',\r\n  CLEAR_MESSEGE: 'CLEAR_MESSEGE',\r\n};\r\n\r\nexport function filtredAllPosts(arr) {\r\n  return {\r\n    type: Type.FILTER_ALL_POSTS,\r\n    payload: arr,\r\n  };\r\n}\r\n\r\nexport function clearMessage() {\r\n  return {\r\n    type: Type.CLEAR_MESSEGE,\r\n    payload: null,\r\n  };\r\n}\r\n\r\nexport function editMessage(message) {\r\n  return {\r\n    type: Type.EDIT_MESSEGE,\r\n    payload: message,\r\n  };\r\n}\r\n\r\nexport function newArrForStore(arr) {\r\n  return {\r\n    type: Type.DELETE_MESSEGE,\r\n    payload: arr,\r\n  };\r\n}\r\n\r\nexport function addNewMessage(message) {\r\n  return {\r\n    type: Type.ADD_NEW_MESSAGE,\r\n    payload: message,\r\n  };\r\n}\r\n\r\nfunction getAllPostsSuccess(data) {\r\n  return {\r\n    type: Type.FETCH_ALL_POSTS,\r\n    payload: data,\r\n  };\r\n}\r\nexport function getAllPosts() {\r\n  return dispatch => {\r\n    fetchMessages()\r\n      .then(res => res.data)\r\n      .then(data => {\r\n        dispatch(getAllPostsSuccess(data));\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n}\r\n","export const add = function(id, name, arrAllPosts) {\r\n  let result = [];\r\n\r\n  for (let i = 0; i < arrAllPosts.length; i += 1) {\r\n    let item = arrAllPosts[i];\r\n    if (item.id === id) {\r\n      if (item['like']) {\r\n        item = { ...item, like: [...item.like, name] };\r\n\r\n        result.push(item);\r\n      } else {\r\n        item = { ...item, like: [name] };\r\n        result.push(item);\r\n      }\r\n    } else result.push(item);\r\n  }\r\n  return result;\r\n};\r\n\r\nexport const remove = function(id, name, arrAllPosts) {\r\n  let result = [];\r\n\r\n  for (let i = 0; i < arrAllPosts.length; i += 1) {\r\n    let item = arrAllPosts[i];\r\n    if (item.id === id) {\r\n      item = { ...item, like: item.like.filter(item => item !== name) };\r\n      result.push(item);\r\n    } else result.push(item);\r\n  }\r\n  return result;\r\n};\r\n","import React, { Component } from 'react';\r\nimport styles from './ChatMessage.module.css';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport * as actions from '../../redux/actions';\r\nimport * as selectors from '../../redux/selectors';\r\nimport * as like from '../../services/logicForLike';\r\n\r\nclass ChatMessage extends Component {\r\n  onHandleLike = e => {\r\n    const { allPosts, user, newArrForStore } = this.props;\r\n    const checked = e.target.checked;\r\n    const id = e.target.value;\r\n\r\n    if (checked) {\r\n      newArrForStore(like.add(id, user, allPosts));\r\n    } else {\r\n      newArrForStore(like.remove(id, user, allPosts));\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { obj } = this.props;\r\n    return (\r\n      <div className={styles.wrapper}>\r\n        <img className={styles.img} src={obj.avatar} alt={obj.user} />\r\n        <h2 className={styles.title}>{obj.user}</h2>\r\n        <p className={styles.text}>{obj.message}</p>\r\n        <p className={styles.date}>{obj.created_at}</p>\r\n        <input\r\n          id={obj.id}\r\n          className={styles.likeName}\r\n          type=\"checkbox\"\r\n          name=\"like\"\r\n          value={obj.id}\r\n          onChange={this.onHandleLike.bind()}\r\n        />\r\n        <label className={styles.like} htmlFor={obj.id}>\r\n          like\r\n        </label>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nChatMessage.propTypes = {\r\n  obj: PropTypes.object,\r\n  allPosts: PropTypes.array,\r\n  user: PropTypes.string,\r\n  newArrForStore: PropTypes.func,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  allPosts: selectors.postsFromStore(state),\r\n  user: selectors.userName(state),\r\n});\r\nconst mapDispatchToProps = dispatch => ({\r\n  newArrForStore: arr => dispatch(actions.filtredAllPosts(arr)),\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(ChatMessage);\r\n","import React, { Component } from 'react';\r\nimport styles from './ChatMessage.module.css';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport * as actions from '../../redux/actions';\r\nimport * as selectors from '../../redux/selectors';\r\n\r\nclass MyMessage extends Component {\r\n  onEditMessage = e => {\r\n    const { allPosts, newArrForStore, messageForEdit } = this.props;\r\n\r\n    const id = e.target.value;\r\n    const message = allPosts.filter(item => item.id === id);\r\n    messageForEdit(message[0]);\r\n    newArrForStore(allPosts.filter(item => item.id !== id));\r\n  };\r\n\r\n  onDeleteMessage = e => {\r\n    const { allPosts, newArrForStore } = this.props;\r\n    const id = e.target.value;\r\n    // eslint-disable-next-line\r\n    newArrForStore(allPosts.filter(item => item.id !== id));\r\n  };\r\n  render() {\r\n    const { obj } = this.props;\r\n    return (\r\n      <div className={styles.wrapperMyMessage}>\r\n        <img className={styles.img} src={obj.avatar} alt={obj.user} />\r\n        <h2 className={styles.title}>{obj.user}</h2>\r\n        <p className={styles.textMyMessage}>{obj.message}</p>\r\n        <p className={styles.dateMyMessage}>{obj.created_at}</p>\r\n        <button\r\n          onClick={this.onDeleteMessage.bind()}\r\n          type=\"button\"\r\n          value={obj.id}\r\n          className={styles.delete}\r\n        >\r\n          x\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          value={obj.id}\r\n          className={styles.edit}\r\n          onClick={this.onEditMessage.bind()}\r\n        >\r\n          Edit\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nMyMessage.propTypes = {\r\n  obj: PropTypes.object,\r\n  allPosts: PropTypes.array,\r\n  newArrForStore: PropTypes.func,\r\n  messageForEdit: PropTypes.func,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  allPosts: selectors.postsFromStore(state),\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  newArrForStore: arr => dispatch(actions.newArrForStore(arr)),\r\n  messageForEdit: message => dispatch(actions.editMessage(message)),\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(MyMessage);\r\n","import React, { Component } from 'react';\r\nimport { css } from '@emotion/core';\r\n\r\nimport { FadeLoader } from 'react-spinners';\r\n\r\nconst override = css`\r\n  display: block;\r\n  margin: 0 auto;\r\n  margin-top: 30vh;\r\n  border-color: #8cc054;\r\n`;\r\n\r\nclass Loader extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: true,\r\n    };\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"sweet-loading\">\r\n        <FadeLoader\r\n          css={override}\r\n          sizeUnit={'em'}\r\n          size={14}\r\n          color={'#8cc054'}\r\n          loading={this.state.loading}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Loader;\r\n","import React, { Component } from 'react';\r\nimport styles from './ChatWindow.module.css';\r\nimport ScrollableFeed from 'react-scrollable-feed';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport * as actions from '../../redux/actions';\r\nimport * as selectors from '../../redux/selectors';\r\nimport ChatMessage from '../ChatMessage/ChatMessage';\r\nimport MyMessage from '../ChatMessage/MyMessage';\r\nimport Loader from '../dummyPages/Loader';\r\n\r\nclass ChatWindow extends Component {\r\n  componentDidMount() {\r\n    this.props.fetchPosts();\r\n  }\r\n  render() {\r\n    const { allPosts, user } = this.props;\r\n    return (\r\n      <div className={styles.wrapper}>\r\n        <ScrollableFeed>\r\n          {!allPosts ? (\r\n            <Loader />\r\n          ) : (\r\n            allPosts.map(item =>\r\n              item.user !== user ? (\r\n                <ChatMessage obj={item} key={item.id} />\r\n              ) : (\r\n                <MyMessage obj={item} key={item.id} />\r\n              ),\r\n            )\r\n          )}\r\n        </ScrollableFeed>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nChatWindow.propTypes = {\r\n  allPosts: PropTypes.array,\r\n  user: PropTypes.string,\r\n  fetchPosts: PropTypes.func,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  allPosts: selectors.postsFromStore(state),\r\n  user: selectors.userName(state),\r\n});\r\nconst mapDispatchToProps = dispatch => ({\r\n  fetchPosts: () => dispatch(actions.getAllPosts()),\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(ChatWindow);\r\n","const createNewMessage = function(objUser, obj) {\r\n  const message = {\r\n    ...objUser,\r\n    id: obj.id,\r\n    created_at: obj.created_at,\r\n    message: obj.message,\r\n  };\r\n  return message;\r\n};\r\nexport default createNewMessage;\r\n","import React, { Component } from 'react';\r\nimport styles from './ChatInput.module.css';\r\nimport shortid from 'shortid';\r\nimport * as moment from 'moment';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport * as actions from '../../redux/actions';\r\nimport * as selectors from '../../redux/selectors';\r\nimport newMessage from '../../services/createNewMessage';\r\n\r\nclass ChatInput extends Component {\r\n  state = {\r\n    message: '',\r\n    quantityMessages: 0,\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const { user, addNewMessage } = this.props;\r\n    const { message } = this.state;\r\n    const partOfMessage = {\r\n      created_at: moment().format('LLLL'),\r\n      id: shortid.generate(),\r\n      message: message,\r\n    };\r\n    this.setState({ message: '' });\r\n    if (message.length === 0) {\r\n      alert('Сообщения без текста не добавляются');\r\n      this.setState(state => ({\r\n        ...state,\r\n        quantityMessages: state.quantityMessages + 1,\r\n      }));\r\n    } else {\r\n      addNewMessage(newMessage(user, partOfMessage));\r\n\r\n      this.setState(state => ({\r\n        ...state,\r\n        quantityMessages: state.quantityMessages + 1,\r\n      }));\r\n    }\r\n\r\n    // addNewMessage(newMessage(user, partOfMessage));\r\n\r\n    this.setState(state => ({\r\n      ...state,\r\n      quantityMessages: state.quantityMessages + 1,\r\n    }));\r\n  };\r\n\r\n  componentDidUpdate() {\r\n    const { messageForEdit, clearMessage } = this.props;\r\n    const { message } = this.state;\r\n\r\n    if (messageForEdit !== null && message.length === 0) {\r\n      this.setState({ message: '' });\r\n      this.setState(\r\n        state => ({ ...state, message: messageForEdit.message }),\r\n        () => clearMessage(),\r\n      );\r\n    }\r\n    return;\r\n  }\r\n\r\n  render() {\r\n    const { message } = this.state;\r\n    return (\r\n      <form className={styles.wrapper} onSubmit={this.handleSubmit}>\r\n        <input\r\n          className={styles.input}\r\n          type=\"text\"\r\n          name=\"message\"\r\n          value={message}\r\n          onChange={this.handleChange}\r\n          id=\"\"\r\n          placeholder=\" say Hallo\"\r\n        />\r\n        <button className={styles.button} type=\"submit\" name=\"send\">\r\n          Send\r\n        </button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nChatInput.propTypes = {\r\n  allPosts: PropTypes.array,\r\n  messageForEdit: PropTypes.object,\r\n  user: PropTypes.object,\r\n  addNewMessage: PropTypes.func,\r\n  clearMessage: PropTypes.func,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  allPosts: selectors.postsFromStore(state),\r\n  user: selectors.user(state),\r\n  messageForEdit: selectors.message(state),\r\n});\r\nconst mapDispatchToProps = dispatch => ({\r\n  addNewMessage: message => dispatch(actions.addNewMessage(message)),\r\n  clearMessage: () => dispatch(actions.clearMessage()),\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(ChatInput);\r\n","import React, { Component } from 'react';\r\nimport Header from '../ChatHeader/ChatHeader';\r\nimport ChatWindow from '../ChatWindow/ChatWindow';\r\nimport ChatInput from '../ChatInput/ChatInput';\r\nimport Footer from '../Footer/Footer';\r\n\r\nclass ChatPage extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        <Header />\r\n        <ChatWindow />\r\n        <ChatInput />\r\n        <Footer />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ChatPage;\r\n","import React from 'react';\r\nimport styles from './DummyPages.module.css';\r\nimport Header from './Header';\r\nimport Footer from '../Footer/Footer';\r\n\r\nconst About = () => (\r\n  <>\r\n    <Header />\r\n    <div className={styles.wrapper}>\r\n      <h1>About us Page</h1>\r\n    </div>\r\n    <Footer />\r\n  </>\r\n);\r\n\r\nexport default About;\r\n","import React from 'react';\r\nimport styles from './DummyPages.module.css';\r\nimport Header from './Header';\r\nimport Footer from '../Footer/Footer';\r\n\r\nconst Contact = () => (\r\n  <>\r\n    <Header />\r\n    <div className={styles.wrapper}>\r\n      <h1>Contact Page</h1>\r\n    </div>\r\n    <Footer />\r\n  </>\r\n);\r\n\r\nexport default Contact;\r\n","import React, { Component } from 'react';\r\n// eslint-disable-next-line\r\nimport styles from './App.module.css';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport HomePage from '../dummyPages/HomePage';\r\nimport ChatPage from '../ChatPage/ChatPage';\r\nimport AboutPage from '../dummyPages/About';\r\nimport Contact from '../dummyPages/Contact';\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        <Switch>\r\n          <Route path=\"/\" exact component={HomePage} />\r\n          <Route path=\"/home\" component={HomePage} />\r\n          <Route path=\"/chat\" component={ChatPage} />\r\n          <Route path=\"/about\" component={AboutPage} />\r\n          <Route path=\"/contact\" component={Contact} />\r\n          <Route render={() => <p>Page not found</p>} />\r\n        </Switch>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import { Type } from '../actions';\r\n\r\nconst initialState = {\r\n  posts: null,\r\n  user: { user: 'Taylor', avatar: 'https://i.pravatar.cc/300?img=12' },\r\n  editMessage: null,\r\n};\r\n\r\nconst chatReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case Type.FETCH_ALL_POSTS:\r\n      return { ...state, posts: action.payload };\r\n    case Type.FILTER_ALL_POSTS:\r\n      return { ...state, posts: action.payload };\r\n    case Type.ADD_NEW_MESSAGE:\r\n      return { ...state, posts: [...state.posts, action.payload] };\r\n    case Type.DELETE_MESSEGE:\r\n      return { ...state, posts: action.payload };\r\n    case Type.EDIT_MESSEGE:\r\n      return { ...state, editMessage: action.payload };\r\n    case Type.CLEAR_MESSEGE:\r\n      return { ...state, editMessage: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default chatReducer;\r\n","import { combineReducers } from 'redux';\r\nimport chatReducer from '../redux/reducers/chatReducer';\r\n\r\nexport default combineReducers({\r\n  chat: chatReducer,\r\n});\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport rootReducer from './rootReducer';\r\nimport thunk from 'redux-thunk';\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(thunk)),\r\n);\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./reset.css\";\nimport App from \"./components/App/App\";\nimport { HashRouter, Route } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <HashRouter basename=\"/\">\n      <Route component={App} />\n    </HashRouter>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"DummyPages_header__1Zb3N\",\"wrapper\":\"DummyPages_wrapper__1FUyR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"ChatHeader_header__31-ot\",\"title\":\"ChatHeader_title__11aix\",\"statistic\":\"ChatHeader_statistic__3iRtn\",\"date\":\"ChatHeader_date__2MZTN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__16L3P\",\"list\":\"Footer_list__MSP2U\",\"link\":\"Footer_link__3wzGO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ChatInput_wrapper__2jUva\",\"input\":\"ChatInput_input__2Ka-z\",\"button\":\"ChatInput_button__R9bir\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ChatWindow_wrapper__dJ5CL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ChatMessage_wrapper__2rpea\",\"wrapperMyMessage\":\"ChatMessage_wrapperMyMessage__1B3_k ChatMessage_wrapper__2rpea\",\"img\":\"ChatMessage_img__oe6jF\",\"title\":\"ChatMessage_title__3Pg0Q\",\"text\":\"ChatMessage_text__6Y2at\",\"textMyMessage\":\"ChatMessage_textMyMessage__Ey2O3 ChatMessage_text__6Y2at\",\"date\":\"ChatMessage_date__2O7tj\",\"dateMyMessage\":\"ChatMessage_dateMyMessage__1cmtJ ChatMessage_date__2O7tj\",\"like\":\"ChatMessage_like__3QfIO\",\"likeName\":\"ChatMessage_likeName__2-tsQ ChatMessage_like__3QfIO\",\"delete\":\"ChatMessage_delete__18289\",\"edit\":\"ChatMessage_edit__2GqIw\"};"],"sourceRoot":""}