(window["webpackJsonptest-buki"]=window["webpackJsonptest-buki"]||[]).push([[0],{117:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),s=a.n(c),o=(a(62),a(4)),u=a(5),l=a(7),i=a(6),p=a(8),m=(a(63),a(21)),f=a(19),E=a.n(f),b=function(){return r.a.createElement("header",{className:E.a.header},r.a.createElement("h3",null,"Some Header"))},d=a(30),h=a.n(d),g=a(22),O=["home","about","contact","chat"],_=function(){return r.a.createElement("footer",{className:h.a.footer},r.a.createElement("ul",{className:h.a.list},O.map(function(e){return r.a.createElement("li",{key:e},r.a.createElement(g.b,{className:h.a.link,to:e},e))})))},y=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,null),r.a.createElement("div",{className:E.a.wrapper},r.a.createElement("h1",null,"Home Page")),r.a.createElement(_,null))},j=a(25),v=a.n(j),S=a(13),M=function(e){if(void 0!==e)return e[e.length-1].created_at},w=function(e){if(void 0!==e){var t=e.map(function(e){return e.user});return t.filter(function(e,a){return t.indexOf(e)===a}).length}},P=function(e){if(void 0!==e)return e.length},C=function(e){return e.chat.posts},k=function(e){return e.chat.user},N=function(e){return e.chat.user.user},D=function(e){return e.chat.editMessage},L=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.allPosts,t="2000.1.01 12:01",a=0,n=0;return null!==e&&(n=P(e),a=w(e),t=M(e)),r.a.createElement("header",{className:v.a.header},r.a.createElement("h1",{className:v.a.title},"My Chat"),r.a.createElement("div",{className:v.a.statistic},r.a.createElement("p",null,a," users"),r.a.createElement("p",null,n," messages")),r.a.createElement("div",{className:v.a.date},r.a.createElement("p",null,"Last message: ",t)))}}]),t}(n.Component),A=Object(S.b)(function(e){return{allPosts:C(e),user:N(e)}},null)(L),F=a(48),T=a.n(F),x=a(49),G=a(50),I=a.n(G),H=function(){return I.a.get("https://api.dev.buki.com.ua/frontend_test")},R={FETCH_ALL_POSTS:"FETCH_ALL_POSTS",FILTER_ALL_POSTS:"FILTER_ALL_POSTS",ADD_NEW_MESSAGE:"ADD_NEW_MESSAGE",DELETE_MESSEGE:"DELETE_MESSEGE",EDIT_MESSEGE:"EDIT_MESSEGE",CLEAR_MESSEGE:"CLEAR_MESSEGE"};function q(){return function(e){H().then(function(e){return e.data}).then(function(t){e(function(e){return{type:R.FETCH_ALL_POSTS,payload:e}}(t))}).catch(function(e){return console.log(e)})}}var W=a(9),U=a.n(W),z=a(29),J=a(17);function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(a,!0).forEach(function(t){Object(J.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Y=function(e,t,a){return a.map(function(a){return a.id===e?a.like?a=B({},a,{like:[].concat(Object(z.a)(a.like),[t])}):B({},a,{like:[t]}):a})},Z=function(e,t,a){return a.map(function(a){return a.id===e?(a.like=a.like.filter(function(e){return e!==t}),a):a})},K=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).onHandleLike=function(e){var t=a.props,n=t.allPosts,r=t.user,c=t.newArrForStore,s=e.target.checked,o=e.target.value;c(s?Y(o,r,n):Z(o,r,n))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.obj;return r.a.createElement("div",{className:U.a.wrapper},r.a.createElement("img",{className:U.a.img,src:e.avatar,alt:e.user}),r.a.createElement("h2",{className:U.a.title},e.user),r.a.createElement("p",{className:U.a.text},e.message),r.a.createElement("p",{className:U.a.date},e.created_at),r.a.createElement("input",{id:e.id,className:U.a.likeName,type:"checkbox",name:"like",value:e.id,onChange:this.onHandleLike.bind()}),r.a.createElement("label",{className:U.a.like,htmlFor:e.id},"like"))}}]),t}(n.Component),V=Object(S.b)(function(e){return{allPosts:C(e),user:N(e)}},function(e){return{newArrForStore:function(t){return e(function(e){return{type:R.FILTER_ALL_POSTS,payload:e}}(t))}}})(K),X=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).onEditMessage=function(e){var t=a.props,n=t.allPosts,r=t.newArrForStore,c=t.messageForEdit,s=e.target.value;c(n.filter(function(e){return e.id===s})[0]),r(n.filter(function(e){return e.id!==s}))},a.onDeleteMessage=function(e){var t=a.props,n=t.allPosts,r=t.newArrForStore,c=e.target.value;r(n.filter(function(e){return e.id!==c}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.obj;return r.a.createElement("div",{className:U.a.wrapperMyMessage},r.a.createElement("img",{className:U.a.img,src:e.avatar,alt:e.user}),r.a.createElement("h2",{className:U.a.title},e.user),r.a.createElement("p",{className:U.a.textMyMessage},e.message),r.a.createElement("p",{className:U.a.dateMyMessage},e.created_at),r.a.createElement("button",{onClick:this.onDeleteMessage.bind(),type:"button",value:e.id,className:U.a.delete},"x"),r.a.createElement("button",{type:"button",value:e.id,className:U.a.edit,onClick:this.onEditMessage.bind()},"Edit"))}}]),t}(n.Component),$=Object(S.b)(function(e){return{allPosts:C(e)}},function(e){return{newArrForStore:function(t){return e(function(e){return{type:R.DELETE_MESSEGE,payload:e}}(t))},messageForEdit:function(t){return e(function(e){return{type:R.EDIT_MESSEGE,payload:e}}(t))}}})(X),ee=a(51),te=a(2),ae=a(52);function ne(){var e=Object(ee.a)(["\n  display: block;\n  margin: 0 auto;\n  margin-top: 30vh;\n  border-color: #8cc054;\n"]);return ne=function(){return e},e}var re=Object(te.css)(ne()),ce=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).state={loading:!0},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"sweet-loading"},r.a.createElement(ae.FadeLoader,{css:re,sizeUnit:"em",size:14,color:"#8cc054",loading:this.state.loading}))}}]),t}(n.Component),se=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPosts()}},{key:"render",value:function(){var e=this.props,t=e.allPosts,a=e.user;return r.a.createElement("div",{className:T.a.wrapper},r.a.createElement(x.a,null,t?t.map(function(e){return e.user!==a?r.a.createElement(V,{obj:e,key:e.id}):r.a.createElement($,{obj:e,key:e.id})}):r.a.createElement(ce,null)))}}]),t}(n.Component),oe=Object(S.b)(function(e){return{allPosts:C(e),user:N(e)}},function(e){return{fetchPosts:function(){return e(q())}}})(se),ue=a(31),le=a.n(ue),ie=a(53),pe=a.n(ie),me=a(54);function fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var Ee=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fe(a,!0).forEach(function(t){Object(J.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fe(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{id:t.id,created_at:t.created_at,message:t.message})};function be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function de(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?be(a,!0).forEach(function(t){Object(J.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):be(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var he=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={message:"",quantityMessages:0},a.handleChange=function(e){a.setState(Object(J.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t=a.props,n=t.user,r=t.addNewMessage,c=a.state.message,s={created_at:me().format("LLLL"),id:pe.a.generate(),message:c};a.setState({message:""}),0===c.length?(alert("\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0431\u0435\u0437 \u0442\u0435\u043a\u0441\u0442\u0430 \u043d\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u044e\u0442\u0441\u044f"),a.setState(function(e){return de({},e,{quantityMessages:e.quantityMessages+1})})):(r(Ee(n,s)),a.setState(function(e){return de({},e,{quantityMessages:e.quantityMessages+1})})),a.setState(function(e){return de({},e,{quantityMessages:e.quantityMessages+1})})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.messageForEdit,a=e.clearMessage,n=this.state.message;null!==t&&0===n.length&&(this.setState({message:""}),this.setState(function(e){return de({},e,{message:t.message})},function(){return a()}))}},{key:"render",value:function(){var e=this.state.message;return r.a.createElement("form",{className:le.a.wrapper,onSubmit:this.handleSubmit},r.a.createElement("input",{className:le.a.input,type:"text",name:"message",value:e,onChange:this.handleChange,id:"",placeholder:" say Hallo"}),r.a.createElement("button",{className:le.a.button,type:"submit",name:"send"},"Send"))}}]),t}(n.Component),ge=Object(S.b)(function(e){return{allPosts:C(e),user:k(e),messageForEdit:D(e)}},function(e){return{addNewMessage:function(t){return e(function(e){return{type:R.ADD_NEW_MESSAGE,payload:e}}(t))},clearMessage:function(){return e({type:R.CLEAR_MESSEGE,payload:null})}}})(he),Oe=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,null),r.a.createElement(oe,null),r.a.createElement(ge,null),r.a.createElement(_,null))}}]),t}(n.Component),_e=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,null),r.a.createElement("div",{className:E.a.wrapper},r.a.createElement("h1",null,"About us Page")),r.a.createElement(_,null))},ye=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,null),r.a.createElement("div",{className:E.a.wrapper},r.a.createElement("h1",null,"Contact Page")),r.a.createElement(_,null))},je=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/",exact:!0,component:y}),r.a.createElement(m.a,{path:"/home",component:y}),r.a.createElement(m.a,{path:"/chat",component:Oe}),r.a.createElement(m.a,{path:"/about",component:_e}),r.a.createElement(m.a,{path:"/contact",component:ye}),r.a.createElement(m.a,{render:function(){return r.a.createElement("p",null,"Page not found")}})))}}]),t}(n.Component),ve=a(20),Se=a(55);function Me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function we(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Me(a,!0).forEach(function(t){Object(J.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Me(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Pe={posts:null,user:{user:"Taylor",avatar:"https://i.pravatar.cc/300?img=12"},editMessage:null},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.FETCH_ALL_POSTS:case R.FILTER_ALL_POSTS:return we({},e,{posts:t.payload});case R.ADD_NEW_MESSAGE:return we({},e,{posts:[].concat(Object(z.a)(e.posts),[t.payload])});case R.DELETE_MESSEGE:return we({},e,{posts:t.payload});case R.EDIT_MESSEGE:case R.CLEAR_MESSEGE:return we({},e,{editMessage:t.payload});default:return e}},ke=Object(ve.combineReducers)({chat:Ce}),Ne=a(56),De=Object(ve.createStore)(ke,Object(Se.composeWithDevTools)(Object(ve.applyMiddleware)(Ne.a)));s.a.render(r.a.createElement(S.a,{store:De},r.a.createElement(g.a,{basename:"/"},r.a.createElement(m.a,{component:je}))),document.getElementById("root"))},19:function(e,t,a){e.exports={header:"DummyPages_header__1Zb3N",wrapper:"DummyPages_wrapper__1FUyR"}},25:function(e,t,a){e.exports={header:"ChatHeader_header__31-ot",title:"ChatHeader_title__11aix",statistic:"ChatHeader_statistic__3iRtn",date:"ChatHeader_date__2MZTN"}},30:function(e,t,a){e.exports={footer:"Footer_footer__16L3P",list:"Footer_list__MSP2U",link:"Footer_link__3wzGO"}},31:function(e,t,a){e.exports={wrapper:"ChatInput_wrapper__2jUva",input:"ChatInput_input__2Ka-z",button:"ChatInput_button__R9bir"}},48:function(e,t,a){e.exports={wrapper:"ChatWindow_wrapper__dJ5CL"}},57:function(e,t,a){e.exports=a(117)},62:function(e,t,a){},63:function(e,t,a){},9:function(e,t,a){e.exports={wrapper:"ChatMessage_wrapper__2rpea",wrapperMyMessage:"ChatMessage_wrapperMyMessage__1B3_k ChatMessage_wrapper__2rpea",img:"ChatMessage_img__oe6jF",title:"ChatMessage_title__3Pg0Q",text:"ChatMessage_text__6Y2at",textMyMessage:"ChatMessage_textMyMessage__Ey2O3 ChatMessage_text__6Y2at",date:"ChatMessage_date__2O7tj",dateMyMessage:"ChatMessage_dateMyMessage__1cmtJ ChatMessage_date__2O7tj",like:"ChatMessage_like__3QfIO",likeName:"ChatMessage_likeName__2-tsQ ChatMessage_like__3QfIO",delete:"ChatMessage_delete__18289",edit:"ChatMessage_edit__2GqIw"}}},[[57,1,2]]]);
//# sourceMappingURL=main.8fd169db.chunk.js.map